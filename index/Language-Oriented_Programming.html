<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>16&nbsp;Language-Oriented Programming</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">&#34479;&#40071;&#34573;&#30340;&#21338;&#23458;</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="The_Hy_Programming_Language.html" class="tocviewlink" data-pltdoc="x">The Hy Programming Language</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="The_Nature_of_Lisp.html" class="tocviewlink" data-pltdoc="x">The Nature of Lisp</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="The_Nature_of_Lisp__Cursor_Translated.html" class="tocviewlink" data-pltdoc="x">The Nature of Lisp, Cursor Translated</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="The_Nature_of_Lisp_Translated_.html" class="tocviewlink" data-pltdoc="x">The Nature of Lisp(Translated)</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="THE_ROBOT_AND_THE_BABY.html" class="tocviewlink" data-pltdoc="x">THE ROBOT AND THE BABY</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="What_is_Racket.html" class="tocviewlink" data-pltdoc="x">What is Racket</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="First_Racket_Program.html" class="tocviewlink" data-pltdoc="x">First Racket Program</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Basic_Grammar.html" class="tocviewlink" data-pltdoc="x">Basic Grammar</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Conditions_and_Procedures.html" class="tocviewlink" data-pltdoc="x">Conditions and Procedures</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="Lists.html" class="tocviewlink" data-pltdoc="x">Lists</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Recursion.html" class="tocviewlink" data-pltdoc="x">Recursion</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="High-Order_Functions.html" class="tocviewlink" data-pltdoc="x">High-<wbr></wbr>Order Functions</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Vectors__Strings_and_Structures.html" class="tocviewlink" data-pltdoc="x">Vectors, Strings and Structures</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="quote.html" class="tocviewlink" data-pltdoc="x">quote</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="Macros.html" class="tocviewlink" data-pltdoc="x">Macros</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Language-<wbr></wbr>Oriented Programming</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="Appendix.html" class="tocviewlink" data-pltdoc="x">Appendix</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="Cursor_s_Racket_Tutorial.html" class="tocviewlink" data-pltdoc="x">Cursor&rsquo;s Racket Tutorial</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="Eternal_Flame.html" class="tocviewlink" data-pltdoc="x">Eternal Flame</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.8</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Macros.html" title="backward to &quot;15 Macros&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;蚯鲇蜍的博客&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Appendix.html" title="forward to &quot;17 Appendix&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>16<tt>&nbsp;</tt><a name="(part._.Language-.Oriented_.Programming)"></a>Language-Oriented Programming</h3><p>&#25105;&#20204;&#20598;&#23572;&#20250;&#21548;&#21040;&#26576;&#20010;"&#35821;&#35328;"&#26159;&#38754;&#21521;&#23545;&#35937;&#30340;, &#25233;&#25110;&#26159;&#36807;&#31243;&#24335;&#30340;. &#37027;"&#38754;&#21521;&#35821;&#35328;"&#21448;&#26159;&#19978;&#38754;&#21602;?</p><p>&#19968;&#33324;&#26469;&#35828;, &#25152;&#35859;&#30340;"&#35821;&#35328;"&#25351;&#30340;&#26159;GPL(&#36890;&#29992;&#30446;&#30340;&#35821;&#35328;, General Purpose Language). &#19982;&#20043;&#30456;&#23545;&#30340;&#26159;DSL(&#39046;&#22495;&#29305;&#23450;&#35821;&#35328;, Domain Specific Language). &#27604;&#22914;, SQL, HTML&#21644;
JSON&#23601;&#26159;DSL, &#23427;&#20204;&#20998;&#21035;&#21482;&#33021;&#26597;&#35810;&#25968;&#25454;&#24211;, &#28210;&#26579;&#32593;&#39029;&#21644;&#20648;&#23384;&#25968;&#25454;, &#38500;&#27492;&#20197;&#22806;&#20960;&#20046;&#20160;&#20040;&#37117;&#19981;&#33021;&#20570;.</p><p>S-&#34920;&#36798;&#24335;&#33021;&#34920;&#31034;&#25152;&#26377;&#35821;&#20041;, &#22240;&#27492;Lisp&#38750;&#24120;&#36866;&#21512;&#26500;&#24314;DSL. &#27604;&#22914;&#20320;&#21487;&#20197;&#25226;SQL&#20889;&#25104;&#36825;&#26679;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">select</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">*</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">from</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">where</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">between</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">id</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">20220900</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">20220999</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#20320;&#19981;&#38656;&#35201;&#20889;&#19968;&#20010;&#26032;&#30340;parser, &#22240;&#20026;&#36825;&#26159;&#19968;&#20010;&#21487;&#20197;&#34987;&#30452;&#25509;&#21152;&#36733;&#30340;S-&#34920;&#36798;&#24335;. &#21482;&#35201;&#20320;&#22362;&#25345;&#20351;&#29992;S-&#34920;&#36798;&#24335;, &#22312;&#23439;&#30340;&#24110;&#21161;&#19979;, &#23601;&#21487;&#20197;&#26500;&#36896;&#20986;&#19968;&#20999;&#35821;&#27861;. &#36825;&#23601;&#26159;"&#20174;&#24515;&#25152;&#27442;, &#19981;&#36926;&#30697;".</p><p>&#25152;&#20197;, &#38754;&#21521;&#35821;&#35328;&#32534;&#31243;&#23601;&#26159;: &#20998;&#26512;&#20855;&#20307;&#38382;&#39064;, &#35774;&#35745;&#19968;&#31181;DSL, &#20889;&#20986;&#23427;&#30340;&#23439;&#21644;&#20989;&#25968;&#24211;, &#28982;&#21518;&#29992;&#23427;&#36827;&#34892;&#32534;&#31243;. &#36825;&#21487;&#20197;&#36991;&#20813;&#19968;&#33324;&#35821;&#35328;&#20013;&#25152;&#35859;"&#35774;&#35745;&#27169;&#24335;", &#23588;&#20854;&#36866;&#29992;&#20110;&#22823;&#22411;&#39033;&#30446;.</p><p>&#20026;&#20102;&#26041;&#20415;&#22320;&#31649;&#29702;&#19968;&#20010;&#35821;&#35328;&#20013;&#30340;&#23439;&#21644;&#20989;&#25968;, Racket&#25552;&#20379;&#20102;#lang&#26631;&#35760;. &#23545;&#20110;&#19968;&#33324;&#30340;#lang&#35821;&#35328;, &#23427;&#30340;&#25928;&#26524;&#21644;require&#23545;&#24212;&#27169;&#22359;&#26080;&#24322;.</p><p>&#28982;&#32780;, &#24635;&#26377;&#20123;&#20154;&#20559;&#29233;&#22855;&#22855;&#24618;&#24618;&#30340;&#35821;&#27861;, &#20063;&#26377;&#20123;&#20219;&#21153;&#29992;S-&#34920;&#36798;&#24335;&#20889;&#20986;&#26469;&#19981;&#26041;&#20415;. &#25152;&#20197;Racket&#25552;&#20379;&#20102;Reader Extension. &#23454;&#29616;&#20102;&#36825;&#20010;&#29305;&#24615;&#30340;&#35821;&#35328;&#20250;&#29992;&#33258;&#24049;&#30340;reader&#35299;&#26512;&#28304;&#20195;&#30721;.
&#27604;&#22914;PyOnR(Python on Racket)&#23601;&#26159;&#19968;&#20010;&#20363;&#23376;. &#23433;&#35013;&#20102;PyOnR&#21518;, &#20320;&#21487;&#20197;&#20889;&#20986;&#36825;&#26679;&#30340;&#31243;&#24207;:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"pyonr.py"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><font class="badlink"><span class="RktModLink"><span class="RktMod">#lang</span></span></font><span class="hspace">&nbsp;</span><font class="badlink"><span class="RktModLink"><span class="RktSym">python</span></span></font></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktSym">from</span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="hspace">&nbsp;</span><span class="RktSym">import</span><span class="hspace">&nbsp;</span><span class="RktSym">car</span><span class="RktRdr">,</span><span class="RktSym">cdr</span><span class="RktRdr">,</span><span class="RktSym">null_QUERY</span><span class="RktRdr">,</span><span class="RktSym">list</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">total</span><span class="RktPn">(</span><span class="RktSym">ls</span><span class="RktPn">)</span><span class="RktSym">:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="RktPn">(</span><span class="RktSym">acc</span><span class="RktRdr">,</span><span class="RktSym">ls</span><span class="RktPn">)</span><span class="RktSym">:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">if</span><span class="hspace">&nbsp;</span><span class="RktSym">null_QUERY</span><span class="RktPn">(</span><span class="RktSym">ls</span><span class="RktPn">)</span><span class="RktSym">:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">return</span><span class="hspace">&nbsp;</span><span class="RktSym">acc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">return</span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="RktPn">(</span><span class="RktSym">acc</span><span class="hspace">&nbsp;</span><span class="RktSym">+</span><span class="hspace">&nbsp;</span><span class="RktSym">car</span><span class="RktPn">(</span><span class="RktSym">ls</span><span class="RktPn">)</span><span class="RktRdr">,</span><span class="RktSym">cdr</span><span class="RktPn">(</span><span class="RktSym">ls</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">return</span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="RktPn">(</span><span class="RktVal">0</span><span class="RktRdr">,</span><span class="RktSym">ls</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktSym">print</span><span class="hspace">&nbsp;</span><span class="RktSym">total</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="RktRdr">,</span><span class="RktVal">2</span><span class="RktRdr">,</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><p>&#21448;&#27604;&#22914;, &#25105;&#29992;&#30340;&#25991;&#26723;&#29983;&#25104;&#24037;&#20855;&#23601;&#26159;&#19968;&#20010;#lang&#35821;&#35328;. &#23427;&#26159;DSL&#30340;&#19968;&#20010;&#20856;&#22411;&#20363;&#23376;, &#38500;&#20102;&#29983;&#25104;&#25991;&#26723;&#20960;&#20046;&#20160;&#20040;&#20063;&#37117;&#19981;&#33021;&#20570;.</p><p>&#20026;&#20102;&#40723;&#21169;&#26500;&#24314;&#33258;&#24049;&#30340;DSL, Racket&#22312;&#26631;&#20934;&#24211;&#20102;&#21253;&#25324;&#20102;LALR&#24211;parser-tools. &#26500;&#24314;&#33258;&#24049;&#30340;&#35821;&#35328;&#26159;&#19968;&#39033;&#20805;&#28385;&#36259;&#21619;&#30340;&#27963;&#21160;, &#19981;&#36807;&#23427;&#19981;&#20250;&#22312;&#26412;&#25991;&#34987;&#28041;&#21450;.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Macros.html" title="backward to &quot;15 Macros&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;蚯鲇蜍的博客&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Appendix.html" title="forward to &quot;17 Appendix&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>